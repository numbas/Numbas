<h1 data-bind="html: exam.settings.name"></h1>

<p class="col-sm-6 col-sm-offset-3" data-localise="result.click a question to review"></p>
<div class="row">
    <table id="question-breakdown" class="col-sm-4 col-sm-offset-4">
        <thead>
            <th class="qtd" data-localise="result.question number"></th>
            <th class="qtd" colspan="3" data-localise="result.question score"></th>
        </thead>
        <tbody>
            <!-- ko foreach: question_groups -->
            <tr class="question-group-header" data-bind="if: $root.showQuestionGroupNames">
                <th data-bind="text: name, typeset: name"></th>
                <th colspan="3"></th>
            </tr>
            <!-- ko foreach: questions -->
            <tr class="question" data-bind="click: review, attr: {title: R('result.question review title')}">
                <td class="qtd" data-bind="text: question.number+1"><a></a></td>
                <td class="qtd" data-bind="niceNumber: score"></td>
                <td class="qtd">/</td>
                <td class="qtd" data-bind="niceNumber: marks"></td>
                <td class="qtd"><button>Review</button></td>
            </tr>
            <!-- /ko -->
            <!-- /ko -->
            <tr>
                <th class="qtd" data-localise="Total"></th>
                <th class="qtd" data-bind="niceNumber: score"></th>
                <th class="qtd">/</th>
                <th class="qtd">
                    <span data-bind="niceNumber: marks"></span>
                    (<span data-bind="text: percentScore"></span>%)
                </th>
            </tr>
        </tbody>
    </table>
    <div id="feedback" class="alert results-feedback col-sm-6 col-sm-offset-3" data-bind="visible: feedbackMessage()!==null, latex: feedbackMessage" localise-data-jme-context-description="exam.feedback"></div>
</div>

<h3 data-localise="result.performance summary"></h3>
<div class="row">
    <table class="summary col-sm-6 col-sm-offset-3">
        <tr>
            <th data-localise="exam.exam name"></th>
            <td class="rtd" data-bind="html: exam.settings.name"></td>
        </tr>
        <tr>
            <th data-localise="exam.random seed"></th>
            <td class="rtd" data-bind="html: exam.seed"></td>
        </tr>
        <tr data-bind="visible: exam.settings.showStudentName && exam.student_name">
            <th data-localise="exam.student name"></th>
            <td class="rtd"><span data-bind="text: exam.student_name"></span><span data-bind="visible: exam.student_id"> (<span data-bind="text: exam.student_id"></span>)</span></td>
        </tr>
        <tr>
            <th data-localise="result.exam start"></th>
            <td class="rtd" data-bind="text: startTime"></td>
        </tr>
        <tr>
            <th data-localise="result.exam stop"></th>
            <td class="rtd" data-bind="text: endTime"></td>
        </tr>
        <tr>
            <th data-localise="result.time spent"></th>
            <td class="rtd" data-bind="text: timeSpent"></td>
        </tr>
    </table>
</div>

<div class="info-buttons">
    <div><button class="btn btn-primary" data-bind="click: function(){ window.print(); }" data-localise="result.print"></button></div>
    <div><button class="btn btn-primary" id="exitBtn" data-bind="click: Numbas.controls.exitExam" data-localise="result.exit"></button></div>
</div>
